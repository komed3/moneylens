let data={},debounceTimeout=null;function formatNumber(e,a=0,t=0){return Number(e).toLocaleString("en-US",{minimumFractionDigits:t,maximumFractionDigits:a})}function animateValue(e,a,t=0,n=600){const _=document.querySelector(`[data-item="${e}"]`);if(_){const e=parseFloat(_.dataset.value)||0,c=performance.now(),i=a-e;requestAnimationFrame((function o(l){const r=l-c,m=Math.min(r/n,1),u=e+i*m;_.textContent=formatNumber(u,t,t),_.dataset.value=u,m<1?requestAnimationFrame(o):(_.dataset.value=a,_.textContent=formatNumber(a,t,t))}))}}function insertDataValues(e){document.querySelectorAll("[data-info]").forEach((a=>{const t=a.getAttribute("data-info");t in e&&(a.textContent=formatNumber(e[t],2,0))}))}function handleInput(e){const a=e.target;let t=a.value.replace(/[^\d]/g,"");t=t.replace(/^0+/,""),t||(t=0);const n=formatNumber(t);a.value=n,calculate_metrics(t)}function calculate_metrics(e){clearTimeout(debounceTimeout),debounceTimeout=setTimeout((()=>{calc_metric__gold(e),calc_metric__coins(e),calc_metric__diamond(e),calc_metric__savings(e),calc_metric__interest(e),calc_metric__expenses(e),calc_metric__burger(e),calc_metric__hardware(e),calc_metric__oil(e),calc_metric__btc(e),calc_metric__work(e),calc_metric__global(e),calc_metric__giving(e),calc_metric__bin(e)}),300)}function calc_metric__gold(e){const a=e/data.gold_price,t=a/19.32,n=2*Math.cbrt(3*t/(4*Math.PI));animateValue("__gold_weight",a,3),animateValue("__gold_diameter",n,3)}function calc_metric__coins(e){const a=e*data.coin_weight/1e6,t=e*data.coin_height/1e5,n=e/(4462272e3/Math.pow(data.coin_diameter,2));animateValue("__coins_weight",a,3),animateValue("__coins_height",t,3),animateValue("__coins_fields",n,3)}function calc_metric__diamond(e){animateValue("__diamond_carat",e/data.diamond_carat,3)}function calc_metric__savings(e){const a=e/data.savings,t=e/(data.income/12);animateValue("__household_savings",a,3),animateValue("__household_income",t,3)}function calc_metric__interest(e){const a=e*Math.pow(1+data.interest/100,(new Date).getFullYear()),t=a/(1e6*data.gold_price);animateValue("__interest_cash",a/1e12,0),animateValue("__interest_gold",t/1e9,0)}function calc_metric__expenses(e){const a=e/data.expenses_us,t=e/data.expenses_de,n=e/data.expenses_ch,_=e/data.expenses_in,c=e/data.expenses_pk;animateValue("__expenses_us",a,0),animateValue("__expenses_de",t,0),animateValue("__expenses_ch",n,0),animateValue("__expenses_in",_,0),animateValue("__expenses_pk",c,0)}function calc_metric__burger(e){animateValue("__burger_amount",e/data.burger,0)}function calc_metric__hardware(e){const a=e/data.gpu,t=e/data.iphone,n=e/data.console;animateValue("__hardware_gpu",a,0),animateValue("__hardware_iphone",t,0),animateValue("__hardware_console",n,0)}function calc_metric__oil(e){animateValue("__oil_barrel",e/data.crude_oil,3)}function calc_metric__btc(e){animateValue("__btc_amount",e/data.btc,3)}function calc_metric__work(e){const a=e/data.fed_wage,t=a/160;animateValue("__work_hrs",a,0),animateValue("__work_months",t,0)}function calc_metric__global(e){animateValue("__global_wealth",100*e/data.global_wealth,10)}function calc_metric__giving(e){const a=e/data.tree,t=e/data.forest_sqft;animateValue("__giving_tree",a,0),animateValue("__giving_forest",t,0)}function calc_metric__bin(e){animateValue("__money_bin",100*e/data.money_bin,8)}document.addEventListener("DOMContentLoaded",(()=>{fetch("./data.json").then((e=>e.json())).then((e=>{data=e,insertDataValues(data)})).catch((e=>{}));const e=document.getElementById("input");e&&e.addEventListener("input",handleInput)}));